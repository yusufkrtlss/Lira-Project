
@using EntityLayer.Concrete
@model Companies
@{
    ViewData["Title"] = "Details Page";
    Layout = "~/Views/Shared/_Layout.cshtml";
    string marketPrice = Model.CompanyRegularMarketPrice.ToString("#.##");
    string marketChange = Model.CompanyRegularMarketChange.ToString("#.##");
    string marketVolume = Model.CompanyRegularMarketVolume.ToString("#.##");
    string marketDayLow = Model.CompanyRegularMarketDayLow.ToString("#.##");
    string marketDayHigh = Model.CompanyRegularMarketDayHigh.ToString("#.##");
    string marketBalance = Model.CompanyBalance.ToString("#,##0");
    string marketIncome = Model.CompanyIncomeStatement.ToString("#,##0");
    string marketEbitda = Model.CompanyEBITDA.ToString("#,##0");
    string marketProfit = Model.CompanyProfit.ToString("#,##0");
    string marketPriceGainRate = Model.CompanyPriceGainRate.ToString("#.##");
}


<div class="offcanvas offcanvas-start bg-dark text-light sidebar-nav" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
    
    <div class="offcanvas-body p-0">
        <nav class="navbar-dark">
            <ul class="navbar-nav">
                <hr class="align-content-sm-center" />
                <li>
                    <div class="text small fw-bold text-uppercase px-3">@Html.DisplayFor(Model=>Model.CompanyName)</div>
                    <div class="text small fw-bold text-uppercase px-3">@Html.DisplayFor(modelItem=>marketPrice)</div>
                    
                </li>
                <hr class="dropdown-divider" />
                <li>
                    <div class="text-muted small fw-bold text-uppercase px-3">CORE</div>
                </li>
                <li>
                    <a href="" class="nav-link px-3 active" onclick="getSummary(@Model.CompanyId)">
                    <span class="me-2">
                        <i class="bi bi-speedometer"></i>
                    </span>
                    <span>Summary</span>
                    </a>
                </li>
                 <li>
                    <a id="btnSummary" href="#" class="nav-link px-3" onclick="getCompInfo(@Model.CompanyId)">
                        <span class="me-2">
                            <i class="bi bi-speedometer"></i>
                        </span>
                        <span>Company Information</span>
                        
                    </a>
                </li>
                <li>
                    <a id="btnCompare" href="#" class="nav-link px-3">
                        <span class="me-2">
                            <i class="bi bi-speedometer"></i>
                        </span>
                        <span>Compare</span>
                    </a>
                </li>
                <li class="my-4">
                    <hr class="dropdown-divider"/>
                </li>
                 <li>
                    <div class="text-muted small fw-bold text-uppercase px-3">TABLES</div>
                </li>
                <li>
                    <a href="" class="nav-link px-3">
                        <span class="me-2">
                            <i class="bi bi-speedometer"></i>
                        </span>
                        <span>Tables</span>
                    </a>
                </li>
                <li>
                    <a class="nav-link px-3 sidebar-link" data-bs-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">
                        <span class="me-2"><i class="bi bi-bar-chart-line"></i></span>
                        <span>Graphs</span>
                        <span class="right-icon ms-auto"><i class="bi bi-chevron-compact-down"></i></span>
                    </a>
                    <div class="collapse" id="collapseExample">
                      <div >
                        <ul class="navbar-nav ps-3">
                                <li>
                                    <a asp-controller="home" asp-action="graph1" class="nav-link px-3">
                                <span class="me-2">
                                <i class="bi bi-speedometer"></i>
                                </span>
                                <span>Graph Name1</span>
                            </a></li>
                            <li>
                                <a href="#" class="nav-link px-3">
                                <span class="me-2">
                                <i class="bi bi-speedometer"></i>
                                </span>
                                <span>Graph Name2</span>
                            </a>
                            </li>
                        </ul>
                      </div>
                    </div>
                </li>
                <hr class="dropdown-divider" />
                <li>
                    <form autocomplete="off" class="inline w-100" id="searchForm">
                        <input class="form-control form-control-sm w-75" id="searchId" type="text" placeholder="Search" name="searchString">
                        <input id="searchButton" class="btn btn-outline-light btn-hover btn-sm search w-25" type="submit" asp-controller="home" asp-action="details" value="Search" />
                    </form>
                </li>
                <br />
                <br />
                <hr class="dropdown-divider" />
                <li>
                    <a href="" class="nav-link px-3">
                        <span class="me-2">
                            <i class="bi bi-speedometer"></i>
                        </span>
                        <span>Radar</span>
                    </a>
                </li>
                <li>
                    <a href="" class="nav-link px-3">
                        <span class="me-2">
                            <i class="bi bi-speedometer"></i>
                        </span>
                        <span>Ratio Analysis</span>
                    </a>
                </li>
            </ul>
        </nav>
        
    </div>
</div>
<div class=" pt-5" id="myPartial"></div>
    


        <style>
    .main-div {
        margin-left: var(--offcanvas-width);        
    }
    .sidebar-nav{
    
max-width: 20%;

bottom:0;
    }
        </style>

        @section Scripts{
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>
        var getSummary = function (companyId) {


            $.ajax({
                type: "POST",
                url: "/Home/Summary",
                data: { id: companyId },
                success: function (response) {
                    $("#myPartial").html(response);
                    $("#myPartial").show();
                }

            });
        }
        var getCompInfo = function (companyId) {


            $.ajax({
                type: "POST",
                url: "/Home/CompanyInfo",
                data: { id: companyId },
                success: function (response) {
                    $("#myPartial").html(response);
                    $("#myPartial").show();
                }

            });
        }


        $(document).ready(function () {
            var url = window.location;
            $('.navbar .nav').find('.active').removeClass('active');
            $('.navbar .nav li a').each(function () {
                if (this.href == url) {
                    $(this).parent().addClass('active');
                }
            });
        });


    </script>
}