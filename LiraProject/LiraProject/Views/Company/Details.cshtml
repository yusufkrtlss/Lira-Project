
@using EntityLayer.Concrete
@model Companies
@{
    ViewData["Title"] = "Details Page";
    Layout = "~/Views/Shared/_Layout.cshtml";
    string marketPrice = Model.CompanyRegularMarketPrice.ToString("#.##");
    string marketChange = Model.CompanyRegularMarketChange.ToString("#.##");
    string marketVolume = Model.CompanyRegularMarketVolume.ToString("#.##");
    string marketDayLow = Model.CompanyRegularMarketDayLow.ToString("#.##");
    string marketDayHigh = Model.CompanyRegularMarketDayHigh.ToString("#.##");
    string marketBalance = Model.CompanyBalance.ToString("#,##0");
    string marketIncome = Model.CompanyIncomeStatement.ToString("#,##0");
    string marketEbitda = Model.CompanyEBITDA.ToString("#,##0");
    string marketProfit = Model.CompanyProfit.ToString("#,##0");
    string marketPriceGainRate = Model.CompanyPriceGainRate.ToString("#.##");
}


<div class="offcanvas offcanvas-start bg-dark text-light sidebar-nav" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
    
    <div class="offcanvas-body p-0">
        <nav class="navbar-dark">
            <ul class="navbar-nav">
                <hr class="align-content-sm-center" />
                <li>
                    <div class="text small fw-bold text-uppercase px-3">@Html.DisplayFor(Model=>Model.CompanyName)</div>
                    <div class="text small fw-bold text-uppercase px-3">@Html.DisplayFor(modelItem=>marketPrice)</div>
                    
                </li>
                <hr class="dropdown-divider" />
                <li>
                    <div class="text-muted small fw-bold text-uppercase px-3">CORE</div>
                </li>
                <li class="nav-link px-3 ">
                        <span class="me-2">
                            <i class="bi bi-speedometer"></i>
                        </span>
                        
                        @Html.ActionLink(
                        "Summary",
                        "Details", // controller action
                        "Company", // controller
                        new { Model.CompanyId },
                        new{@class="text-decoration-none text-secondary "}
                        // action parameters aka route values as required
                        ) 
                  
                </li>
                
                        
                      
                 <li class="nav-link px-3 ">
                        <span class="me-2">
                            <i class="bi bi-speedometer"></i>
                        </span>
                        
                        @Html.ActionLink(
                        "Company Information",
                        "CompanyInfo", // controller action
                        "Company", // controller
                        new { Model.CompanyId },
                        new{@class="text-decoration-none text-secondary "}
                        // action parameters aka route values as required
                        ) 
                  
                </li>
                    
                 <li class="nav-link px-3 ">
                        <span class="me-2">
                            <i class="bi bi-speedometer"></i>
                        </span>
                        
                        @Html.ActionLink(
                        "Compare",
                        "Compare", // controller action
                        "Company", // controller
                        new { Model.CompanyId },
                        new{@class="text-decoration-none text-secondary "}
                        // action parameters aka route values as required
                        ) 
                  
                </li>
                <li class="my-4">
                    <hr class="dropdown-divider"/>
                </li>
                 <li>
                    <div class="text-muted small fw-bold text-uppercase px-3">Analyze</div>
                </li>
                <li>
                    <a href="" class="nav-link px-3">
                        <span class="me-2">
                            <i class="bi bi-speedometer"></i>
                        </span>
                        <span>Tables</span>
                    </a>
                </li>
                <li>
                    <a class="nav-link px-3 sidebar-link" data-bs-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">
                        <span class="me-2"><i class="bi bi-bar-chart-line"></i></span>
                        <span>Graphs</span>
                        <span class="right-icon ms-auto"><i class="bi bi-chevron-compact-down"></i></span>
                    </a>
                    <div class="collapse" id="collapseExample">
                      <div >
                        <ul class="navbar-nav ps-3">
                                <li>
                                    <a asp-controller="home" asp-action="graph1" class="nav-link px-3">
                                <span class="me-2">
                                <i class="bi bi-speedometer"></i>
                                </span>
                                <span>Graph Name1</span>
                            </a></li>
                            <li>
                                <a href="#" class="nav-link px-3">
                                <span class="me-2">
                                <i class="bi bi-speedometer"></i>
                                </span>
                                <span>Graph Name2</span>
                            </a>
                            </li>
                        </ul>
                      </div>
                    </div>
                </li>
                <hr class="dropdown-divider" />
                <li>
                    <form autocomplete="off" class="inline w-100" id="searchForm">
                        <input class="form-control form-control-sm w-75" id="searchId" type="text" placeholder="Search" name="searchString">
                        <input id="searchButton" class="btn btn-outline-light btn-hover btn-sm search w-25" type="submit" asp-controller="home" asp-action="details" value="Search" />
                    </form>
                </li>
                <br />
                <br />
                <hr class="dropdown-divider" />
                <li>
                    <a href="" class="nav-link px-3">
                        <span class="me-2">
                            <i class="bi bi-speedometer"></i>
                        </span>
                        <span>Radar</span>
                    </a>
                </li>
                <li>
                    <a href="" class="nav-link px-3">
                        <span class="me-2">
                            <i class="bi bi-speedometer"></i>
                        </span>
                        <span>Ratio Analysis</span>
                    </a>
                </li>
            </ul>
        </nav>
        
    </div>
</div>
<div class=" pt-5" id="myPartial"></div>
    
<div class="container-fluid">
        <div class="row">
            <div class="dashboard-div col-md-12 fw-bold fs-3 text-light">Summary</div>
        </div>
        <div class="row ">
            <div class="col-md-12">
                <div class="card mb-3" ">
                    <div class="card-header">Summary</div>
                    <div class="card-body row ">
                        <div class="col-md-6">

                            <p class="card-text">Market Price :          @Html.DisplayFor(modelItem=>marketPrice)</p>
                            <p class="card-text">Market Change Percent :          @Html.DisplayFor(modelItem=>marketChange)%</p>
                            <p class="card-text">Market Volume :          @Html.DisplayFor(modelItem=>marketVolume)</p>
                            <p class="card-text">Day Low :          @Html.DisplayFor(modelItem=>marketDayLow)</p>
                            <p class="card-text">Day High :          @Html.DisplayFor(modelItem=>marketDayHigh)</p>
                        </div>
                        <div class="col-md-6">
                            <p class="card-text">Balance :          @Html.DisplayFor(modelItem=>marketBalance)</p>
                            <p class="card-text">Revenue :          @Html.DisplayFor(modelItem=>marketIncome)</p>
                            <p class="card-text">EBITDA :          @Html.DisplayFor(modelItem=>marketEbitda)</p>
                            <p class="card-text">Profit :          @Html.DisplayFor(modelItem=>marketProfit)</p>
                            <p class="card-text">Price Gain rate :          @Html.DisplayFor(modelItem=>marketPriceGainRate)</p>
                        </div>

                    </div>
                </div>
            </div>



        </div>

        <div class="card border-warning mb-3 pt-2" id="newsId">
  <div class="card-body">
    <h5 class="card-title text-bold">Apple plans to let rival app stores on iPhones in EU -Bloomberg</h5>
    <hr>
    <p class="card-text">(Reuters) -Apple Inc is preparing to allow alternative app stores on its iPhones and iPads in the European Union as soon as late next year to comply with a new European competition...</p>
    <a href="#" class="btn btn-warning btn-sm">Read More</a>
  </div>
</div>

    </div>

        <style>
    .main-div {
        margin-left: var(--offcanvas-width);        
    }
    .sidebar-nav{
    
max-width: 20%;

bottom:0;
    }
        </style>

        @section Scripts{
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>
      
      


        var getSummary = function (companyId) {


            $.ajax({
                type: "POST",
                url: "/company/Summary",
                data: { id: companyId },
                success: function (response) {
                    $("#myPartial").html(response);
                    $("#myPartial").show();
                }

            });
        }
        //var getCompInfo = function (companyId) {


        //    $.ajax({
        //        type: "POST",
        //        url: "/company/CompanyInfo",
        //        data: { id: companyId },
        //        success: function (response) {
        //            $("#myPartial").html(response);
        //            $("#myPartial").show();
        //        }

        //    });
        //}


        $(document).ready(function () {
            var url = window.location;
            $('.navbar .nav').find('.active').removeClass('active');
            $('.navbar .nav li a').each(function () {
                if (this.href == url) {
                    $(this).parent().addClass('active');
                }
            });
        });

        const params = new Proxy(new URLSearchParams(window.location.search), {
          get: (searchParams, prop) => searchParams.get(prop),
        });
        // Get the value of "some_key" in eg "https://example.com/?some_key=some_value"
        let value = params.symbol; // "some_value"
        
    </script>
}